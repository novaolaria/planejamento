<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel do Apê - Caio</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <header>
        <h1><i class="fas fa-home"></i> Planejamento do Apê</h1>
        
        <div class="config-bar">
            <label>Data Entrega das Chaves:</label>
            <input type="date" id="date-config" onchange="updateDateConfig(this.value)">
        </div>

        <div id="countdown-container">
            <h3>Contagem Regressiva</h3>
            <div id="timer">Calculando...</div>
        </div>
    </header>

    <main>
        <section class="dashboard card">
            <h2><i class="fas fa-chart-line"></i> Meta Financeira (Dia 1)</h2>
            <div class="finance-grid">
                <div class="stat">
                    <span>Móveis</span>
                    <strong id="total-furniture">R$ 0,00</strong>
                </div>
                <div class="stat">
                    <span>Obras</span>
                    <strong id="total-renovation">R$ 0,00</strong>
                </div>
                <div class="stat">
                    <span>Parcelas (Soma)</span>
                    <strong id="total-installments">R$ 0,00</strong>
                </div>
                <div class="stat total">
                    <span>TOTAL GERAL</span>
                    <strong id="grand-total">R$ 0,00</strong>
                </div>
            </div>
        </section>

        <section class="content-section">
            <h2><i class="fas fa-calendar-alt"></i> Planejamento Mensal (Até Mar/2028)</h2>
            <p class="subtitle">Edite os valores mês a mês. O sistema salva automaticamente.</p>
            <div class="table-container">
                <table id="installments-table">
                    <thead>
                        <tr>
                            <th>Mês/Ano</th>
                            <th>Valor (R$)</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="installments-list">
                        </tbody>
                </table>
            </div>
        </section>

        <section class="content-section">
            <div class="header-action">
                <h2><i class="fas fa-couch"></i> Lista de Móveis</h2>
                <button onclick="openModal('modal-furniture')">+ Novo Móvel</button>
            </div>
            <ul id="list-furniture" class="item-list"></ul>
        </section>

        <section class="content-section">
            <div class="header-action">
                <h2><i class="fas fa-tools"></i> Obras e Materiais</h2>
                <button onclick="openModal('modal-renovation')">+ Novo Material</button>
            </div>
            <ul id="list-renovation" class="item-list"></ul>
        </section>

        <section class="content-section">
            <div class="header-action">
                <h2><i class="fas fa-clipboard-check"></i> Checklist Vistoria</h2>
                <button onclick="openModal('modal-checklist')">+ Novo Item</button>
            </div>
            <div id="list-checklist" class="checklist-grid"></div>
        </section>
    </main>

    <div id="modal-furniture" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-furniture')">&times;</span>
            <h3>Adicionar Móvel</h3>
            <input type="text" id="furn-name" placeholder="Nome (ex: Sofá)">
            <input type="number" id="furn-price" placeholder="Preço (R$)">
            <input type="text" id="furn-link" placeholder="Link da Loja">
            <input type="text" id="furn-img" placeholder="URL da Foto">
            <button onclick="addItem('furniture')">Salvar</button>
        </div>
    </div>

    <div id="modal-renovation" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-renovation')">&times;</span>
            <h3>Material / Obra</h3>
            <input type="text" id="renov-name" placeholder="Item (ex: Fio 4mm)">
            <input type="number" id="renov-price" placeholder="Preço (R$)">
            <input type="text" id="renov-type" placeholder="Categoria">
            <button onclick="addItem('renovation')">Salvar</button>
        </div>
    </div>

    <div id="modal-checklist" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-checklist')">&times;</span>
            <h3>Item de Vistoria</h3>
            <input type="text" id="check-name" placeholder="O que verificar?">
            <button onclick="addItem('checklist')">Salvar</button>
        </div>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>
